{% extends "base.html" %}
{% load humanize %}
{% block content %}
<div class="container py-4">
  <div class="row">
    <div class="col-12">
      <div class="card shadow">
        <div class="card-header bg-info text-white">
          <h5 class="text-white text-capitalize ps-3 mb-0">التقارير</h5>
        </div>
        <div class="card-body">
          <div class="row mb-4">
            <div class="col-md-4">
              <div class="alarm alert-primary">
                <strong>عدد الطلبات اليوم:</strong> {{ orders_today }}
              </div>
            </div>
            <div class="col-md-4">
              <div class="alarm alert-success">
                <strong>إجمالي المبيعات اليوم:</strong> {{ sales_today|floatformat:"0"|intcomma }} جنيه
              </div>
            </div>
            <div class="col-md-4">
              <div class="alarm alert-info">
                <strong>إجمالي المبيعات هذا الشهر:</strong> {{ sales_month|floatformat:"0"|intcomma }} جنيه
              </div>
            </div>
          </div>
          <h6>عدد الطلبات والمبيعات حسب اليوم:</h6>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>التاريخ</th>
                <th>عدد الطلبات</th>
                <th>إجمالي المبيعات</th>
              </tr>
            </thead>
            <tbody>
              {% for row in orders_per_day %}
              <tr>
                <td>{{ row.created_at__date }}</td>
                <td>{{ row.count }}</td>
                <td>{{ row.total|floatformat:"0"|intcomma }} جنيه</td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="3" class="text-center text-muted">لا توجد بيانات.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  .alarm{
    padding: 10px;
    margin-bottom: 20px;
    color: #fff;
    border-radius: 5px;
    font-size: 16px;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
  }

{% endblock %}
